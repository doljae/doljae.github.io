---
slug: 48
title: "Spring 03"
authors: seokjae
tags: ["tistory"]
enableComments: true
keywords: ["tistory"]
date: 2021-02-07T18:49:50+09:00
---

> 원문: https://doljae.tistory.com/48

외부 JSP 파일을 JSP 파일에 포함하는 방법 2가지
방법 1. &lt;%@ include file=""%&gt;

1.jsp + 2.jsp 가 하나의 서블릿으로 변환

방법 2. &lt;jsp:include page="" /&gt;

<!-- truncate -->

서블릿 2개가 만들어짐

Tomcat만 직접 실행하기


```
# 톰캣 설치 경로에 진입
C:\WINDOWS\system32>cd C:\apache-tomcat-9.0.41\bin

C:\apache-tomcat-9.0.41\bin>ls
'ls'은(는) 내부 또는 외부 명령, 실행할 수 있는 프로그램, 또는
배치 파일이 아닙니다.

C:\apache-tomcat-9.0.41\bin>dir start*
 C 드라이브의 볼륨에는 이름이 없습니다.
 볼륨 일련 번호: F8C5-555F

 C:\apache-tomcat-9.0.41\bin 디렉터리

2020-12-03  오전 11:45             2,022 startup.bat
2020-12-03  오전 11:45             1,904 startup.sh
               2개 파일               3,926 바이트
               0개 디렉터리  39,052,787,712 바이트 남음

# tomcat 직접 실행
C:\apache-tomcat-9.0.41\bin>startup

# 이 경로에 war 파일을 놓고 톰캣을 실행하면 배포가 됨
C:\apache-tomcat-9.0.41\webapps

# 이 경로에 가면 jsp가 서블릿으로 변환된 것을 볼 수 있음
C:\myjava\apache-tomcat-9.0.41\work\Catalina\localhost\spring\org\apache\jsp
```


주의 사항

WAR를 배포할 당시의 JRE 버전과 WAR를 돌릴 tomcat의 JRE 버전이 맞지 않다면 작동하지 않는다.

예를 들어 나는 1.8 버전에서 코드를 작성해서 만들었음. 그런데 내 tomcat을 돌릴 java, javac 버전이 11 임.

그럼 실행이 안됨.

Spring MVC Annotation

```
package myspring.user.controller;

import java.util.List;

import org.springframework.beans.factory.annotation.Autowired;
import org.springframework.web.bind.annotation.GetMapping;
import org.springframework.web.bind.annotation.PathVariable;
import org.springframework.web.bind.annotation.PostMapping;
import org.springframework.web.bind.annotation.RequestBody;
import org.springframework.web.bind.annotation.RestController;

import myspring.user.dao.IUserDAO;
import myspring.user.vo.UserVO;

// 반드시 pom.xml에 jackson-bind 의존성이 있어야 함
// DisPathcerServlet의 기본 경로는 / 로 해줘야함
// default servlet handler, mvc-annotaion driven을 dispatcher servlet 설정으로 넣어줘야함
@RestController
public class RestfulUserController {
	@Autowired
	private IUserDAO dao;

	@PostMapping("/users")
	public int insertUser(@RequestBody UserVO user) {
		int cnt = dao.insertUser(user);
		return cnt;
	}

	@GetMapping("users/{userid}")
	public UserVO getUser(@PathVariable String userid) {
		return dao.getUser(userid);
	}

	// 전체조회
	@GetMapping("/users")
	public List<UserVO> getUsers() {
		List<UserVO> users = dao.getUsers();
		return users;
	}
```
